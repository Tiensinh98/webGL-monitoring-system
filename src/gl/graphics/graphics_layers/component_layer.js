import { GraphicsBody } from '../graphics_item.js';
import { Mat4 } from '../../gl_matrix.js';

export class ComponentLayer {
    constructor(gl) {
        const vertices = [
            [-0.5 , -0.25,  0.25],
            [-0.5 , -0.25,  0.  ],
            [-0.5 ,  0.  ,  0.  ],
            [-0.5 ,  0.  ,  0.25],
            [-0.25, -0.25,  0.25],
            [-0.25, -0.25,  0.  ],
            [-0.25,  0.  ,  0.25],
            [-0.5 , -0.25, -0.25],
            [-0.5 ,  0.  , -0.25],
            [-0.25, -0.25, -0.25],
            [-0.25,  0.  , -0.25],
            [-0.5 ,  0.25,  0.  ],
            [-0.5 ,  0.25,  0.25],
            [-0.25,  0.25,  0.  ],
            [-0.25,  0.25,  0.25],
            [-0.5 ,  0.25, -0.25],
            [-0.25,  0.25, -0.25],
            [ 0.  , -0.25,  0.25],
            [ 0.  , -0.25,  0.  ],
            [ 0.  ,  0.  ,  0.25],
            [ 0.  , -0.25, -0.25],
            [ 0.  ,  0.  , -0.25],
            [ 0.  ,  0.25,  0.  ],
            [ 0.  ,  0.25,  0.25],
            [ 0.  ,  0.25, -0.25],
            [ 0.25, -0.25,  0.25],
            [ 0.25, -0.25,  0.  ],
            [ 0.25,  0.  ,  0.25],
            [ 0.25, -0.25, -0.25],
            [ 0.25,  0.  , -0.25],
            [ 0.25,  0.25,  0.  ],
            [ 0.25,  0.25,  0.25],
            [ 0.25,  0.25, -0.25],
            [ 0.5 , -0.25,  0.25],
            [ 0.5 , -0.25,  0.  ],
            [ 0.5 ,  0.  ,  0.  ],
            [ 0.5 ,  0.  ,  0.25],
            [ 0.5 , -0.25, -0.25],
            [ 0.5 ,  0.  , -0.25],
            [ 0.5 ,  0.25,  0.  ],
            [ 0.5 ,  0.25,  0.25],
            [ 0.5 ,  0.25, -0.25]
        ];
        const values = [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00,  0.0000000e+00,
            -3.8531143e-06, -4.3544997e-06, -3.3733293e-06,  0.0000000e+00,
             0.0000000e+00, -4.0486702e-06, -3.3733293e-06,  0.0000000e+00,
             0.0000000e+00, -4.3544997e-06, -4.0486702e-06,  0.0000000e+00,
            -3.8531143e-06, -9.7908260e-06, -1.0073782e-05, -9.6798940e-06,
            -9.8802429e-06, -9.6798940e-06, -1.0073782e-05, -9.8802429e-06,
            -9.7908260e-06, -1.6698159e-05, -1.6785420e-05, -1.6645261e-05,
            -1.6726151e-05, -1.6645261e-05, -1.6785420e-05, -1.6726151e-05,
            -1.6698159e-05, -2.3421213e-05, -2.3457860e-05, -2.3449902e-05,
            -2.3414805e-05, -2.3427743e-05, -2.3414805e-05, -2.3457860e-05,
            -2.3427743e-05, -2.3421213e-05];
        const indices = [
            [ 0,  1,  5],
            [ 1,  7,  9],
            [ 4,  5, 18],
            [ 5,  9, 20],
            [17, 18, 26],
            [18, 20, 28],
            [25, 26, 34],
            [26, 28, 37],
            [ 7,  8, 10],
            [ 8, 15, 16],
            [ 9, 10, 21],
            [10, 16, 24],
            [20, 21, 29],
            [21, 24, 32],
            [28, 29, 38],
            [29, 32, 41],
            [11, 12, 14],
            [15, 11, 13],
            [13, 14, 23],
            [16, 13, 22],
            [22, 23, 31],
            [24, 22, 30],
            [30, 31, 40],
            [32, 30, 39],
            [ 0,  4,  6],
            [ 3,  6, 14],
            [ 4, 17, 19],
            [ 6, 19, 23],
            [17, 25, 27],
            [19, 27, 31],
            [25, 33, 36],
            [27, 36, 40],
            [ 0,  3,  2],
            [ 1,  2,  8],
            [ 3, 12, 11],
            [ 2, 11, 15],
            [33, 34, 35],
            [34, 37, 38],
            [36, 35, 39],
            [35, 38, 41],
            [ 0,  5,  4],
            [ 1,  9,  5],
            [ 4, 18, 17],
            [ 5, 20, 18],
            [17, 26, 25],
            [18, 28, 26],
            [25, 34, 33],
            [26, 37, 34],
            [ 7, 10,  9],
            [ 8, 16, 10],
            [ 9, 21, 20],
            [10, 24, 21],
            [20, 29, 28],
            [21, 32, 29],
            [28, 38, 37],
            [29, 41, 38],
            [11, 14, 13],
            [15, 13, 16],
            [13, 23, 22],
            [16, 22, 24],
            [22, 31, 30],
            [24, 30, 32],
            [30, 40, 39],
            [32, 39, 41],
            [ 0,  6,  3],
            [ 3, 14, 12],
            [ 4, 19,  6],
            [ 6, 23, 14],
            [17, 27, 19],
            [19, 31, 23],
            [25, 36, 27],
            [27, 40, 31],
            [ 0,  2,  1],
            [ 1,  8,  7],
            [ 3, 11,  2],
            [ 2, 15,  8],
            [33, 35, 36],
            [34, 38, 35],
            [36, 39, 40],
            [35, 41, 39]
        ];
        const edgeIndices = [[12, 14],
        [ 3, 12],
        [11, 12],
        [17, 25],
        [31, 40],
        [36, 40],
        [39, 40],
        [ 7,  8],
        [14, 23],
        [37, 38],
        [33, 36],
        [ 0,  4],
        [33, 34],
        [ 4, 17],
        [24, 32],
        [ 8, 15],
        [11, 15],
        [20, 28],
        [32, 41],
        [38, 41],
        [39, 41],
        [ 7,  9],
        [16, 24],
        [ 1,  7],
        [28, 37],
        [34, 37],
        [ 9, 20],
        [ 0,  3],
        [25, 33],
        [ 0,  1],
        [15, 16],
        [23, 31]];

        this.graphicsBody = GraphicsBody.create(gl, vertices, indices, 'scalarField', values, Mat4.create());
        this.edgeGraphicsBody = GraphicsBody.create(gl, vertices, edgeIndices, 'flat', undefined, Mat4.create());
        this.boundingBox = this.graphicsBody.bodyBuffer.boundingBox;
    }

    graphicsBodies() {
        return [
            this.graphicsBody,
            this.edgeGraphicsBody
        ];
    }
}